(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"8gUP":function(t,n,e){"use strict";e.r(n),e.d(n,"ShippingAddressPageModule",(function(){return S}));var o=e("ofXK"),i=e("3Pt+"),s=e("TEn/"),r=e("tyNb"),a=e("mrSG"),c=e("dQyM"),d=e("AxFn"),l=e("nm6V"),g=e("PSD3"),b=e.n(g),u=e("bPlY"),p=e("fXoL"),h=e("lGQG"),m=e("5dVO"),f=e("2g2N"),M=e("n90K");function _(t,n){1&t&&p.Lb(0,"div",16),2&t&&p.mc("background-image","url(assets/nothing.jpg)",p.Db)}function C(t,n){1&t&&p.Lb(0,"div"),2&t&&p.mc("background-image","url(assets/nothing.jpg)",p.Db)}function O(t,n){1&t&&(p.Nb(0,"div"),p.Nb(1,"ion-list",17),p.Nb(2,"ion-item"),p.Nb(3,"ion-thumbnail",3),p.Lb(4,"ion-skeleton-text",18),p.Mb(),p.Nb(5,"ion-label"),p.Nb(6,"h3"),p.Lb(7,"ion-skeleton-text",19),p.Mb(),p.Nb(8,"p"),p.Lb(9,"ion-skeleton-text",20),p.Mb(),p.Nb(10,"p"),p.Lb(11,"ion-skeleton-text",21),p.Mb(),p.Mb(),p.Mb(),p.Mb(),p.Mb())}function v(t,n){if(1&t){const t=p.Ob();p.Nb(0,"ion-item",17),p.Nb(1,"ion-radio-group",22),p.Vb("ionChange",(function(n){return p.jc(t),p.Xb().MakeDefault(n)})),p.Nb(2,"div"),p.Nb(3,"ion-list",23),p.Nb(4,"ion-item",17),p.Nb(5,"ion-label",24),p.oc(6),p.Lb(7,"br"),p.Nb(8,"span",25),p.oc(9),p.Mb(),p.Mb(),p.Lb(10,"ion-radio",26),p.Mb(),p.Mb(),p.Mb(),p.Mb(),p.Nb(11,"ion-icon",27),p.Vb("click",(function(e){p.jc(t);const o=n.$implicit;return p.Xb().openMenu(o,e)})),p.Mb(),p.Mb()}if(2&t){const t=n.$implicit;p.zb(6),p.qc("",t.address," "),p.zb(3),p.pc(t.land_mark),p.zb(1),p.dc("name",t),p.cc("value",t)}}function y(t,n){if(1&t){const t=p.Ob();p.Nb(0,"ion-footer"),p.Nb(1,"ion-button",28),p.Vb("click",(function(){return p.jc(t),p.Xb().SelectPayment()})),p.oc(2,"Continue"),p.Mb(),p.Mb()}}const P=[{path:"",component:(()=>{class t{constructor(t,n,e,o,i,s,r,a,c,d){this.route=t,this.modalController=n,this.alertController=e,this.nav=o,this.authService=i,this.loader=s,this.navCtrl=r,this.popoverController=a,this.toastService=c,this.storageService=d,this.defaultSelectedRadio="",this.address_id="",this.dummy=Array(10),setTimeout(()=>{this.storageService.getRandomNumber().then(t=>{t&&(this.rad=t)})},500),this.storageService.getData().then(t=>{t?(this.user_id=t.result_FrontLogin.id,this.ShippingDetails()):this.user_id=""}),setTimeout(()=>{},1e3)}ngOnInit(){}MakeDefault(t){this.address_id=JSON.stringify(t.detail.value.id);const n={address_id:JSON.stringify(t.detail.value.id),user_id:t.detail.value.front_user_id};console.log("My MakeDefault => "+JSON.stringify(n)),this.loader.loadingPresent(),this.authService.MakeDefault(n).subscribe(t=>{this.loader.loadingDismiss(),this.toastService.presentToast(t.msg)},t=>{this.loader.loadingDismiss(),null!=JSON.stringify(t.error.errors)?this.toastService.presentToast(JSON.stringify(t.error.errors)):this.toastService.presentToast("Network Issue...")})}AddAddress(){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:c.a,componentProps:{}});return t.onDidDismiss().then(t=>{window.location.reload(),this.ShippingDetails()}),yield t.present()}))}ShippingDetails(){const t={session_id:this.rad,user_id:this.user_id};console.log("My shipping_addresses => "+JSON.stringify(t)),this.authService.checkout(t).subscribe(t=>{this.dummy=[],console.log("My shipping_addresses => "+JSON.stringify(t.result_checkout)),!1===t.error?this.Data=t.result_checkout.shipping_addresses:this.toastService.presentToast(t)},t=>{this.dummy=[],null!=JSON.stringify(t.error.errors)?this.toastService.presentToast(JSON.stringify(t.error.errors)):this.toastService.presentToast("Network Issue...")})}SelectPayment(){""==this.address_id?this.toastService.presentToast("Select Default Address"):this.nav.navigateForward("payment-method")}Edit(t){return Object(a.a)(this,void 0,void 0,(function*(){console.log(t);const n=yield this.modalController.create({component:d.a,componentProps:{id:t}});return n.onDidDismiss().then(t=>{this.ShippingDetails()}),yield n.present()}))}openMenu(t,n){return Object(a.a)(this,void 0,void 0,(function*(){if(console.log("item.registered_address ===>>>>"+t.registered_address),null!=t.registered_address){const e=yield this.popoverController.create({component:u.a,event:n,mode:"ios"});e.onDidDismiss().then(n=>Object(a.a)(this,void 0,void 0,(function*(){if(console.log(n.data),n&&n.data&&"edit"===n.data){JSON.stringify(t);const n=yield this.modalController.create({component:d.a,componentProps:{id:t.id,registered_address:t.registered_address}});return n.onDidDismiss().then(t=>{this.ShippingDetails()}),yield n.present()}}))),yield e.present()}else{const e=yield this.popoverController.create({component:l.a,event:n,mode:"ios"});e.onDidDismiss().then(n=>Object(a.a)(this,void 0,void 0,(function*(){if(console.log(n.data),n&&n.data){if("edit"===n.data){JSON.stringify(t);const n=yield this.modalController.create({component:d.a,componentProps:{id:t.id,registered_address:t.registered_address}});return n.onDidDismiss().then(t=>{this.ShippingDetails()}),yield n.present()}"delete"===n.data&&(console.log(t),b.a.fire({title:"Are you sure?",text:"to delete this address",icon:"question",confirmButtonText:"Yes",backdrop:!1,background:"white",showCancelButton:!0,showConfirmButton:!0,cancelButtonText:"cancel"}).then(n=>{console.log(n),n&&n.value&&this.authService.delete_shipping_address(t.id).subscribe(t=>{console.log("My shipping_addresses => "+JSON.stringify(t.result_checkout.shipping_addresses)),!1===t.error?(this.ShippingDetails(),this.toastService.presentToast(t.msg)):this.toastService.presentToast(t)},t=>{this.dummy=[],null!=JSON.stringify(t.error.errors)?this.toastService.presentToast(JSON.stringify(t.error.errors)):(this.dummy=[],this.toastService.presentToast("Network Issue..."))})}))}}))),yield e.present()}}))}}return t.\u0275fac=function(n){return new(n||t)(p.Kb(r.a),p.Kb(s.ab),p.Kb(s.b),p.Kb(s.bb),p.Kb(h.a),p.Kb(m.a),p.Kb(s.bb),p.Kb(s.eb),p.Kb(f.a),p.Kb(M.a))},t.\u0275cmp=p.Eb({type:t,selectors:[["app-shipping-address"]],decls:19,vars:5,consts:[["tappable",""],["color","light"],["color","primary"],["slot","start"],["fill","clear","routerLink","/cart","routerDirection","backward"],["slot","icon-only","src","assets/custom-icon-tc-shop/back.svg"],[1,"group"],[1,"mainContent"],["expand","block","fill","clear",3,"click"],["slot","start","name","add"],["class","noData",3,"backgroundImage",4,"ngIf"],[3,"backgroundImage",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"background","transparent"],["lines","none","style","background: transparent;",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"noData"],["lines","none",2,"background","transparent"],["animated",""],["animated","",2,"width","50%"],["animated","",2,"width","80%"],["animated","",2,"width","60%"],[2,"background","transparent",3,"ionChange"],[1,"list"],[1,"title"],[1,"name"],["slot","start","mode","md",3,"name","value"],["slot","end","name","ellipsis-vertical-outline",1,"moreIcon",2,"background","transparent",3,"click"],[3,"click"]],template:function(t,n){1&t&&(p.Nb(0,"ion-header",0),p.Nb(1,"ion-toolbar",1),p.Nb(2,"ion-title",2),p.oc(3,"Shipping Address"),p.Mb(),p.Nb(4,"ion-buttons",3),p.Nb(5,"ion-button",4),p.Lb(6,"ion-icon",5),p.Mb(),p.Mb(),p.Mb(),p.Mb(),p.Nb(7,"ion-content"),p.Nb(8,"div",6),p.Nb(9,"div",7),p.Nb(10,"ion-button",8),p.Vb("click",(function(){return n.AddAddress()})),p.Lb(11,"ion-icon",9),p.oc(12," Add Address "),p.Mb(),p.nc(13,_,1,2,"div",10),p.nc(14,C,1,2,"div",11),p.nc(15,O,12,0,"div",12),p.Nb(16,"div",13),p.nc(17,v,12,4,"ion-item",14),p.Mb(),p.Mb(),p.Mb(),p.Mb(),p.nc(18,y,3,0,"ion-footer",15)),2&t&&(p.zb(13),p.cc("ngIf",!(null!=n.dummy&&n.dummy.length||null!=n.Data&&n.Data.length)),p.zb(1),p.cc("ngIf",!(null!=n.dummy&&n.dummy.length||null!=n.Data&&n.Data.length)),p.zb(1),p.cc("ngForOf",n.dummy),p.zb(2),p.cc("ngForOf",n.Data),p.zb(1),p.cc("ngIf",null==n.Data?null:n.Data.length))},directives:[s.s,s.V,s.U,s.j,s.i,s.gb,r.h,s.t,s.p,o.i,o.h,s.x,s.v,s.T,s.N,s.w,s.D,s.hb,s.C,s.fb,s.q],styles:[".ion-label[_ngcontent-%COMP%]{word-wrap:break-word}ion-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color:#fff;margin:0;width:100%;--border-radius:0}ion-label[_ngcontent-%COMP%]{display:block}.group[_ngcontent-%COMP%]{padding:10px 15px;width:100%;background:#fff!important}.group[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]{padding:5px 10px}.group[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .savedTitle[_ngcontent-%COMP%]{font-weight:700}.group[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .noData[_ngcontent-%COMP%]{border-radius:10px;background-position:50%;background-repeat:no-repeat;background-size:contain;width:100%;height:250px}.group[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{position:relative;overflow-x:auto}.group[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.group[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .scroll-item[_ngcontent-%COMP%]{flex:0 0 auto}.group[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;color:#000;font-size:.8rem;white-space:pre-wrap;text-transform:capitalize}.group[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#d3d3d3;font-size:.7rem}.group[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .moreIcon[_ngcontent-%COMP%]{position:absolute;right:0;top:1px}.group[_ngcontent-%COMP%]   .mainContent[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background:transparent}"]}),t})()}];let N=(()=>{class t{}return t.\u0275mod=p.Ib({type:t}),t.\u0275inj=p.Hb({factory:function(n){return new(n||t)},imports:[[r.i.forChild(P)],r.i]}),t})(),S=(()=>{class t{}return t.\u0275mod=p.Ib({type:t}),t.\u0275inj=p.Hb({factory:function(n){return new(n||t)},imports:[[o.b,i.a,s.W,N]]}),t})()}}]);