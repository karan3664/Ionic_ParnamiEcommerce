(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{mDHw:function(e,t,r){"use strict";r.r(t),r.d(t,"PaymentPageModule",(function(){return m}));var i=r("ofXK"),o=r("3Pt+"),s=r("TEn/"),n=r("tyNb"),a=r("PSD3"),c=r.n(a),l=r("fXoL"),d=r("lGQG"),h=r("5dVO"),p=r("2g2N"),u=r("n90K");const b=[{path:"",component:(()=>{class e{constructor(e,t,r,i,o,s){this.alertController=e,this.nav=t,this.authService=r,this.loaderservice=i,this.toastService=o,this.storageService=s,this.transported_id=localStorage.getItem("transported_id"),this.delivery_option=localStorage.getItem("delivery_option"),this.freight=localStorage.getItem("freight"),this.currency=localStorage.getItem("grandTotal"),this.notes=localStorage.getItem("notes"),this.storageService.getData().then(e=>{this.user_id=e?e.result_FrontLogin.id:""})}ngOnInit(){}openRazorpay(){RazorpayCheckout.open({description:"Credits towards Parnami",image:"http://parnamib2b.com/public/home_page_images/4e7b67faf1c12a7f1e171e8d60404385.png",currency:"INR",key:"rzp_live_oUl09l5hlzy0Cq",amount:this.currency+"00",name:"Parnami",prefill:{email:"",contact:"",name:""},theme:{color:"#F77734"},modal:{ondismiss(){alert("dismissed")}}},e=>{this.loaderservice.loadingPresent();const t={payment_type:"online",user_id:this.user_id,payment_response:e,transporter:"undefined"==this.transported_id?"":this.transported_id,delivery_option:"undefined"==this.delivery_option?"":this.delivery_option,freight:"undefined"==this.freight?"":this.freight,notes:this.notes};console.log(JSON.stringify(t)),this.authService.CheckoutCashOnDelivery(t).subscribe(e=>{this.loaderservice.loadingDismiss(),!1===e.error?(this.storageService.removeCartCount(),this.nav.navigateForward("my-order/:price"),c.a.fire({title:"Success",text:"Your Order is created succesfully",icon:"success",backdrop:!1})):this.toastService.presentToast(e.msg)},e=>{this.loaderservice.loadingDismiss(),null!=JSON.stringify(e.error.errors)?this.toastService.presentToast(JSON.stringify(e.error.errors)):this.toastService.presentToast("Network Issue...")})},(function(e){alert(e.description+" (Error "+e.code+")")}))}payWithCredit(){}placeOrder(){console.log("place order"),c.a.fire({title:"Are you sure?",text:"",icon:"question",showCancelButton:!0,backdrop:!1,background:"white",confirmButtonText:"Yes",cancelButtonText:"cancel"}).then(e=>{if(console.log(e),e&&e.value){console.log("go to procesed");const e={payment_type:"cash_on_delivery",user_id:this.user_id,payment_response:"",transporter:"undefined"==this.transported_id?"":this.transported_id,delivery_option:"undefined"==this.delivery_option?"":this.delivery_option,freight:"undefined"==this.freight?"":this.freight,notes:"undefined"==this.notes?"":this.notes};console.log("COD = > "+JSON.stringify(e)),this.loaderservice.loadingPresent("Creating Order"),this.authService.CheckoutCashOnDelivery(e).subscribe(e=>{!1===e.error?(this.loaderservice.loadingDismiss(),this.storageService.removeCartCount(),this.nav.navigateForward("my-order/:price"),c.a.fire({title:"Success",text:"Your Order is created succesfully",icon:"success",backdrop:!1})):(this.loaderservice.loadingDismiss(),this.toastService.presentToast(e.msg))},e=>{this.loaderservice.loadingDismiss(),null!=JSON.stringify(e.error.errors)?this.toastService.presentToast(JSON.stringify(e.error.errors)):this.toastService.presentToast("Network Issue...")})}})}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(s.b),l.Kb(s.bb),l.Kb(d.a),l.Kb(h.a),l.Kb(p.a),l.Kb(u.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-payment"]],decls:22,vars:0,consts:[["tappable",""],["color","light"],["slot","start"],["mode","md","color","primary"],["color","primary"],[1,"header"],[1,"title"],[3,"click"],["src","assets/jaanu.png"],["mode","ios","name","arrow-forward-outline","slot","end"],["src","assets/cod.png"]],template:function(e,t){1&e&&(l.Nb(0,"ion-header",0),l.Nb(1,"ion-toolbar",1),l.Nb(2,"ion-buttons",2),l.Lb(3,"ion-back-button",3),l.Mb(),l.Nb(4,"ion-title",4),l.oc(5,"Payment Options"),l.Mb(),l.Mb(),l.Mb(),l.Nb(6,"ion-content"),l.Nb(7,"div",5),l.Nb(8,"ion-label",6),l.oc(9,"Payment Options"),l.Mb(),l.Mb(),l.Nb(10,"ion-item",7),l.Vb("click",(function(){return t.openRazorpay()})),l.Nb(11,"ion-thumbnail",2),l.Lb(12,"img",8),l.Mb(),l.Nb(13,"ion-label"),l.oc(14,"Pay with Razorpay"),l.Mb(),l.Lb(15,"ion-icon",9),l.Mb(),l.Nb(16,"ion-item",7),l.Vb("click",(function(){return t.placeOrder()})),l.Nb(17,"ion-thumbnail",2),l.Lb(18,"img",10),l.Mb(),l.Nb(19,"ion-label"),l.oc(20,"Cash on Delivery"),l.Mb(),l.Lb(21,"ion-icon",9),l.Mb(),l.Mb())},directives:[s.s,s.V,s.j,s.f,s.g,s.U,s.p,s.w,s.v,s.T,s.t],styles:[".header[_ngcontent-%COMP%]{background:#f3f3f3;padding:20px}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}"]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},imports:[[n.i.forChild(b)],n.i]}),e})(),m=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},imports:[[i.b,o.a,s.W,g]]}),e})()}}]);